# –§—É–Ω–∫—Ü–∏—è is_available_date() üå∂Ô∏è
# –í–æ –≤—Ä–µ–º—è –≤–∏–∑–∏—Ç–∞ –æ—á–µ—Ä–µ–¥–Ω–æ–≥–æ –≥–æ—Å—Ç—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –æ—Ç–µ–ª—è –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏ —Ç–∞ –∏–ª–∏ –∏–Ω–∞—è –¥–∞—Ç–∞ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–º–µ—Ä–∞.

# –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é is_available_date(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

# booked_dates ‚Äî —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –¥–∞—Ç, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –≠–ª–µ–º–µ–Ω—Ç–æ–º —Å–ø–∏—Å–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –ª–∏–±–æ –æ–¥–∏–Ω–æ—á–Ω–∞—è –¥–∞—Ç–∞, –ª–∏–±–æ –ø–µ—Ä–∏–æ–¥ (–¥–≤–µ –¥–∞—Ç—ã —á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å). –ù–∞–ø—Ä–∏–º–µ—Ä:
# ['04.11.2021', '05.11.2021-09.11.2021']
# date_for_booking ‚Äî –æ–¥–∏–Ω–æ—á–Ω–∞—è —Å—Ç—Ä–æ–∫–æ–≤–∞—è –¥–∞—Ç–∞ –∏–ª–∏ –ø–µ—Ä–∏–æ–¥ (–¥–≤–µ –¥–∞—Ç—ã —á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å), –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –≥–æ—Å—Ç—å –∂–µ–ª–∞–µ—Ç –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä. –ù–∞–ø—Ä–∏–º–µ—Ä:
# '01.11.2021' –∏–ª–∏ '01.11.2021-04.11.2021'
# –§—É–Ω–∫—Ü–∏—è is_available_date() –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å True, –µ—Å–ª–∏ –¥–∞—Ç–∞ –∏–ª–∏ –ø–µ—Ä–∏–æ–¥ date_for_booking –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å False.

# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –≤ –ø–µ—Ä–∏–æ–¥–µ –ª–µ–≤–∞—è –¥–∞—Ç–∞ –≤—Å–µ–≥–¥–∞ –º–µ–Ω—å—à–µ –ø—Ä–∞–≤–æ–π.

# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –í –ø–µ—Ä–∏–æ–¥–µ (–¥–≤–µ –¥–∞—Ç—ã —á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å) –≥—Ä–∞–Ω–∏—á–Ω—ã–µ –¥–∞—Ç—ã –≤–∫–ª—é—á–µ–Ω—ã.

# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –í —Ç–µ—Å—Ç–∏—Ä—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É —Å–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, —Å–æ–¥–µ—Ä–∂–∞—â—É—é —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Ñ—É–Ω–∫—Ü–∏—é is_available_date(), –Ω–æ –Ω–µ –∫–æ–¥, –≤—ã–∑—ã–≤–∞—é—â–∏–π –µ–µ.

from datetime import datetime,date
def is_available_date(booked_dates: str,
                      date_for_booking: str):
    #booked_dates_dict = [datetime.strptime(day,'%d.%m.%Y').timestamp() for date in booked_dates for day in date.split('-')]
    booked_dates_list: list = [[int(datetime.strptime(day,'%d.%m.%Y').timestamp()) for day in date.split('-') ]for date in booked_dates]
    
    booked_dates_set: set = set()

    for date_time in booked_dates_list:
        for date_day in range(min(date_time)/86400,max(date_time)+1/86400):
            booked_dates_set.add(datetime.fromtimestamp(float(date_day)).strftime('%d/%m/%y'))

    date_for_booking_list: list = [[int(datetime.strptime(day,'%d.%m.%Y').timestamp()) for day in date_for_booking.split('-') ]]
    
    date_for_booking_set: set = set()  

    for date_time in date_for_booking_list:
        for date_day in range(min(date_time),max(date_time)+1):
            date_for_booking_set.add(datetime.fromtimestamp(float(date_day)).strftime('%d/%m/%y'))

    #return booked_dates_set.isdisjoint(date_for_booking_set)
    return sorted(booked_dates_set),sorted(date_for_booking_set)
    #return booked_dates_list,date_for_booking_list

dates = ['01.11.2021', '05.11.2021-09.11.2021', '12.11.2021', '15.11.2021-21.11.2021']
some_date = '10.11.2021-14.11.2021'
print(is_available_date(dates, some_date))